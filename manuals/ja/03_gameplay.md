# ゲームプレイガイド

ScriptVoxel ブロックゲームのブロック、建築、ゲームメカニクスについて知っておくべきすべてのことです。

## ゲーム目標

**これは明確な勝利条件のないサンドボックス/クリエイティブゲームです。**

- スコアや実績はありません
- 必須の目標やクエストはありません
- 時間制限はありません
- **目標**: 自由に建築、探索、創造

あなたの目標は自己指向的です:
- 構造物や創造物を建てる
- メカニクスを実験する
- プロシージャル生成されたワールドを探索する
- マルチプレイヤーで他の人と協力する
- AIエージェントをプログラムする(シングルプレイヤー)

## 利用可能なブロック

### 完全なブロックリスト

| ID | ブロック名 | タイプ | 回転 | 説明 |
|----|----------|-------|-----|------|
| 0 | 空気 | 透明 | なし | 空のスペース |
| 1 | 土 | 固体 | なし | 基本的な建築材料 |
| 2 | 草 | 固体 | なし | 土の上で自然に広がる |
| 3 | 石 | 固体 | なし | 強い建築材料 |
| 4 | 砂 | 固体 | なし | 砂漠/ビーチ材料 |
| 5 | 板材 | 固体 | なし | 加工された木材 |
| 6 | 丸太 | 固体 | 軸 | 木の幹、3つの回転 |
| 7 | 葉 | 透明 | なし | 木の葉 |
| 8 | オーク板材 | 固体 | なし | 木材バリアント |
| 9 | 石炭ブロック | 固体 | なし | 資源ブロック |
| 10 | 階段 | 固体 | Y軸 | 視線方向に基づく4つの回転 |
| 11 | ガラス | 透明 | なし | 透けて見えるブロック |
| 12 | 高い草 | 透明 | なし | 装飾的な植物 |
| 13-14 | 水 | 液体 | なし | 流れて広がる |
| 15-21 | レール | 特殊 | カスタム | 線路システムブロック |
| 22 | 枯れ低木 | 透明 | なし | 砂漠の装飾 |

### ブロックプロパティ

**固体ブロック:**
- 衝突判定あり(通り抜けできない)
- 他のブロックの任意の面に配置可能
- 他のブロックのサポートを提供

**透明ブロック:**
- 衝突判定はあるが透けて見える
- 例: ガラス、葉、高い草
- 光を通す

**液体ブロック:**
- 水は流れて広がります(水シミュレーションセクション参照)
- 衝突判定はあるが異なる振る舞い
- 固体ブロックのように配置可能

## ブロック回転システム

### 回転タイプの理解

配置時にブロックは異なる回転動作を持ちます:

### 1. ROTATION_TYPE_NONE (0)

**回転なし** - どの角度から見ても同じ

**例**: 土、草、石、砂、ガラス

**動作**:
- 視線方向に関係なく同じ方法で配置
- すべての面で対称
- 最もシンプルなブロックタイプ

### 2. ROTATION_TYPE_AXIAL (1)

**3軸回転** - X、Y、またはZ軸に整列

**例**: 丸太、柱

**動作**:
- **上/下を見ている**: 垂直に配置(Y軸)
- **左/右を見ている**: X軸に沿って配置
- **前/後を見ている**: Z軸に沿って配置
- 合計3つの可能な向き

**使用例**:
- 水平または垂直の丸太パターンを作成
- 任意の方向に柱を建てる

### 3. ROTATION_TYPE_Y (2)

**Y軸のみ回転** - 垂直軸を中心に回転

**例**: 階段、看板

**動作**:
- 水平方向の視線方向に基づいて回転
- 4つの可能な回転(北、東、南、西)
- 常に「直立」だが異なる方向を向く

**使用例**:
- あなたに向かって、またはあなたから離れる階段
- 特定の方向を向く必要がある方向性ブロック

### 4. ROTATION_TYPE_CUSTOM_BEHAVIOR (3)

**特殊回転ロジック** - ブロックタイプごとに固有

**例**: レール(直線、カーブ、スロープ)

**動作**:
- 複雑な配置ルール
- 隣接するブロックに接続する可能性
- 適切なバリアントを自動選択

**使用例**:
- インテリジェントに接続するレールシステム
- 複雑な向き要件を持つブロック

## 建築テクニック

### 基本的な建築

**ブロックの配置:**
1. ホットバーからブロックを選択(数字キー1-9)
2. 既存のブロックを指す
3. 配置したい面で右クリック
4. その面に新しいブロックが表示されます

**ブロックの削除:**
1. 削除したいブロックを指す
2. 左クリック
3. ブロックが即座に消えます

### クイックブロック選択

**中クリック(ブロックピック):**
- ワールド内の任意のブロックを指す
- 中マウスボタンを押す
- そのブロックタイプがホットバーで自動的に選択されます
- 建築中にブロックタイプを切り替える最速の方法

### 建築のヒント

**1. 基礎から始める**
- ベースとしてブロックの平らな層を配置
- 壁と構造物を簡単に建てられる
- 明確な地面レベルを提供

**2. 丸太に回転を使用**
- 上を見て垂直の丸太を配置
- 横を見て水平の丸太を配置
- 興味深いパターンとサポートを作成

**3. 構造を計画**
- 最初に何を建てたいか考える
- 必要に応じてブロックを数える
- 計画には土のようなシンプルなブロックを使用し、後で置き換える

**4. 層ごとに**
- 階ごとに建てる(水平層)
- 壁全体を一度に建てようとするより簡単
- 上層を建てている間、下層の上を歩ける

**5. ステップクライミングを使用**
- ジャンプせずに0.5ブロックの高さまでの段を歩ける
- 部分的に建てられた構造をナビゲートしやすくなる
- 階段は自動的に機能

## ゲームワールドメカニクス

### 地形生成

**プロシージャル生成:**
- 探索するとワールドが自動的に生成されます
- 自然に見える地形のためにノイズベースのアルゴリズムを使用
- 丘、谷、平らなエリアを作成
- 木と植物がランダムに配置

**チャンクシステム:**
- ワールドは16×16×16ブロックのチャンクで読み込まれます
- 移動するとチャンクが読み込まれます
- 遠いチャンクはメモリ節約のためアンロードされる場合があります

### 草の広がりシミュレーション

**仕組み:**
- 上に空気がある土ブロックが草ブロックに変わります
- 時間とともに自動的に発生します
- フレームごとに512のランダムブロックを処理
- プレイヤーから100ブロック以内でのみ機能
- サーバー/シングルプレイヤーでのみ実行(クライアントでは実行されません)

**見えるもの:**
- 新しく配置された土がゆっくりと草になります
- 草が土の表面全体に広がります
- 自然に見える草原を作成します
- 他のブロックの下の土は土のまま(光がない)

**プレイヤーへの影響:**
- 土を配置 = 露出していれば最終的に草になります
- 草を掘る = 下の土が現れます
- 草をブロックで覆う = 草のまま(戻りません)

**シミュレーションの詳細:**
- サーバー/シングルプレイヤー: ローカルで実行
- マルチプレイヤークライアント: サーバーから更新を受信
- ランダムティックシステム: フレームあたり512ボクセル
- 半径: 各プレイヤーの周囲100ブロック

### 水シミュレーション

**水の仕組み:**
- 水は5方向に広がります: 4つの水平 + 1つの下
- 下に流れることを優先
- 流れる川と滝を作成
- 0.2秒ごとに64の水更新を処理

**水の広がり:**

1. **水平拡散**:
   - 水は隣接する空気ブロックに流れます(北、南、東、西)
   - 各水ブロックが隣接するものに広がろうとします

2. **垂直拡散**:
   - 水は下に流れることを強く優先
   - 縁を越えて流れると滝を作成
   - 穴と空洞を埋めます

**水のバリアント:**
- **水フルブロック**(ID 13): 内部の水、完全に満たされている
- **水上面**(ID 14): 波の効果がある表面の水

**水を使った建築:**
- 通常のブロックのように水ブロックを配置
- 水はすぐに広がり始めます
- 囲まれたプールを作成するには: 最初に壁を建て、次に水を追加
- 水は自然に下り坂に流れます

**水を止める:**
- 水の流れを止めるために固体ブロックを配置
- 水は流れ込むブロックを破壊しません
- 水源ブロックを破壊して水を除去

**シミュレーションの詳細:**
- キューベースのセルオートマトンアルゴリズム
- 0.2秒ごとに64ブロックを更新(フレームあたり10更新)
- デュアルキューシステムが無限ループを防止
- サーバー/シングルプレイヤーでのみ実行

## 自然なワールド機能

### 木

**外観:**
- ワールド生成中にランダムに配置
- 丸太ブロック(幹)と葉(樹冠)から作られる
- さまざまなサイズと形状(16の異なるバリアント)

**採取:**
- 丸太と葉を通常のブロックのように破壊
- 葉は透明ブロック
- 丸太には軸回転がある

**木を使った建築:**
- 丸太は優れた柱とサポートになる
- 葉は装飾的な屋根になる
- 丸太+葉を建てて手動で木を再植林可能

### 高い草

**外観:**
- 草ブロック上の小さな装飾的な植物
- 透明ブロック(自由に通り抜けられる)
- ワールド作成中に生成

**プロパティ:**
- 衝突なし(自由に通り抜けられる)
- 除去すると即座に壊れる
- 純粋に装飾的

### 枯れ低木

**外観:**
- 砂漠の装飾、乾いた茂みのような
- 砂ブロック上に見られる
- 透明ブロック

**プロパティ:**
- 高い草に似ている
- 砂漠/乾燥バイオームインジケーター
- 衝突なし

## ゲームワールドの振る舞い

### 昼夜サイクル

**現在実装されていません:**
- 昼夜サイクルなし
- 照明は一定
- 指向性ライトが太陽光をシミュレート

**影システム:**
- **L**を押して影を切り替え
- ビジュアル品質とパフォーマンスに影響
- 指向性ライトに基づいて影をレンダリング

### 物理

**ブロック物理:**
- ブロックは落下せず、重力に従いません(水を除く)
- 浮遊構造を建てられます
- 構造的完全性の要件なし

**プレイヤー物理:**
- 重力がプレイヤーを下に引っ張ります(9.8ユニット/秒²)
- VoxelBoxMoverを介してボクセル地形との衝突
- ステップクライミング有効(0.5ブロックの高さ)

**アイテム物理:**
- アイテムのドロップやピックアップメカニクスなし
- アイテムはワールド内で物理オブジェクトとして存在しません
- すべてのアイテムはインベントリに留まります

### ワールド境界

**ワールドサイズ:**
- 事実上無限(プロシージャル生成)
- コンピュータメモリに基づく実用的な制限
- 見えない壁や境界なし

**建築の高さ:**
- 垂直建築にハードリミットなし
- 座標系の範囲によってのみ制限

## 高度なメカニクス

### Pythonプログラマブルエージェント(シングルプレイヤーのみ)

**F4キー** - Pythonコードエディタを開きます

**機能:**
- ゲームワールドにAIエージェントをスポーン
- エージェントを制御するPythonコードを書く
- エージェントは移動、ブロック配置、相互作用が可能
- リアルタイムコード実行

**機能:**
- エージェントは位置(5, 64, 0)にスポーン
- プレイヤーの近くに再スポーン可能
- プログラマティックな地形相互作用
- 自動化と実験に便利

**使用例:**
- 自動化された建築プロジェクト
- ゲームメカニクスのテスト
- プログラミングの学習
- ヘルパーボットの作成

### マルチプレイヤー固有の動作

**クライアント権限(あなたのプレイヤー):**
- 自分の移動と物理を制御
- 位置はサーバーと他のクライアントに送信
- あなたのキャラクターのスムーズな移動

**サーバー権限(地形):**
- すべてのブロック編集はサーバーを経由
- サーバーが検証して変更を適用
- 変更はすべてのクライアントに同期
- チートと競合を防止

**シミュレーション:**
- 草の広がり: サーバーのみ
- 水の流れ: サーバーのみ
- クライアントは結果を見ますが、シミュレーションは実行しません

## ゲームプレイのヒント

### 初心者向け

1. **自由に実験**: サンドボックスです - いろいろ試してみましょう！
2. **シンプルに始める**: 城を試みる前に小さな家を建てましょう
3. **草の広がりを使用**: 土を草にして自然な外観に
4. **水は難しい**: 最初に小さなエリアで水をテスト
5. **頻繁に保存**: ゲームは自動保存しますが、マルチプレイヤーでは依存しないでください

### 建築者向け

1. **配置前に計画**: 構造レイアウトについて考える
2. **異なるブロックを使用**: 視覚的な興味のために材料を変える
3. **丸太を回転**: 軸回転でフレームとサポートを作成
4. **詳細に階段**: 方向性のある階段で深さを追加
5. **窓にガラス**: 透明ブロックで外を見られる

### マルチプレイヤー向け

1. **他の人と調整**: 建築エリアについて合意
2. **他の人の作品を尊重**: 許可なしに破壊しないでください
3. **リソースを共有**: 大きなプロジェクトで協力
4. **水が広がる可能性**: 他の人の建物の近くで水に注意

---

**次**: アイテム管理をマスターするために[アイテムとインベントリ](./04_items_inventory.md)について学びます。
