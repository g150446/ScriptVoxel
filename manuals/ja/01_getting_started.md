# はじめに

## ScriptVoxel ブロックゲームへようこそ！

このガイドは、ゲームを初めて起動するところから、利用可能な異なるゲームモードを理解するまでをサポートします。

## システム要件

### 必須
- **godot_voxel** C++モジュールがコンパイルされた **Godot Engine 4.4**
- **Jolt Physics**サポート(プロジェクト設定に含まれています)
- OpenGLサポート付きの最新のグラフィックスカード

### 重要な注意事項
このゲームは**標準のGodotビルドでは実行できません**。ソースからコンパイルされたvoxelモジュール付きのカスタムGodotビルドを使用する必要があります。ビルド手順については、メインプロジェクトのドキュメントを参照してください。

## ゲームの起動

1. カスタムGodotビルドを開く
2. プロジェクトを読み込む: `ファイル > プロジェクトを開く` またはコマンドラインから実行:
   ```bash
   godot project/project.godot
   ```
3. **F5**を押すか、「再生」ボタンをクリックしてゲームを開始

ゲームはメインメニューに起動します。

## メインメニュー

ゲームを開始すると、**「Blocky Game Demo」**メインメニューが表示され、3つのオプションがあります:

### 1. シングルプレイヤーボタン
これをクリックしてローカルシングルプレイヤーゲームを開始します。

**動作:**
- すぐにゲームが開始されます
- プロシージャル生成されたワールドの位置(0, 64, 0)にスポーンします
- Pythonエージェントエディタを含むすべての機能にフルアクセス
- ゲームを閉じるとワールドが自動保存されます

**最適な用途:**
- ゲームの学習
- クリエイティブモードでの建築
- Pythonエージェントシステムでの実験
- オフラインプレイ

### 2. サーバーに接続(クライアントモード)
これをクリックして既存のマルチプレイヤーサーバーに参加します。

**必要な設定:**
- **サーバーIPアドレス**: ホストのIPアドレスを入力(ローカルテスト用のデフォルト: `127.0.0.1`)
- **ポート**: サーバーポートを入力(デフォルト: `25000`)
- **「サーバーに接続」**をクリック

**動作:**
- リモートサーバーに接続します
- サーバーから地形データをダウンロードします
- サーバーのワールドにスポーンします
- リアルタイムで他のプレイヤーと相互作用できます

**最適な用途:**
- 友達と一緒にプレイ
- パブリックサーバーへの参加
- 協力建築
- マルチプレイヤー体験

### 3. サーバーをホスト(ホストモード)
これをクリックして独自のマルチプレイヤーサーバーを作成します。

**必要な設定:**
- **ポート**: ポート番号を選択(デフォルト: `25000`)
- **UPnPチェックボックス**(オプション): 自動ポート転送を有効化
- **「サーバーをホスト」**をクリック

**動作:**
- 他の人が接続できるサーバーを作成します
- ウィンドウタイトルが「サーバー」に変わります
- ホストしながらプレイできます(あなたもプレイヤーです)
- 最大32人のプレイヤーを同時にサポートします
- シャットダウン時にサーバーがワールドを保存します

**最適な用途:**
- 友達のためのゲームホスティング
- 永続的なワールドの実行
- サーバー環境の制御
- LANパーティー

## 最初のゲーム

### シングルプレイヤーで開始

1. メインメニューで**「シングルプレイヤー」**をクリック
2. 地形が生成されるまで数秒待ちます
3. 位置(0, 64, 0)の草地エリアにスポーンします
4. マウスを動かして周りを見回します
5. **W**を押して前進します

**表示されるもの:**
- 丘と谷のあるプロシージャル生成された地形
- 風景全体に散在する木
- 表面の草ブロック
- 画面下部の9つのアイテムスロットがあるホットバー
- 中央の十字線(ブロックを指しているとき)

### スポーン位置

常に以下の座標にスポーンします:
- **X**: 0
- **Y**: 64(高さ)
- **Z**: 0

これはワールドの中心付近で、通常は表面上またはその上にあります。

## ゲームモードの理解

### モード比較

| 機能 | シングルプレイヤー | クライアント | ホスト |
|------|-----------------|-----------|--------|
| オフラインプレイ | ✓ | ✗ | ✗ |
| Pythonエージェントエディタ | ✓ | ✗ | ✗ |
| マルチプレイヤー | ✗ | ✓ | ✓ |
| 地形制御 | 完全 | 表示のみ | 完全 |
| ローカルでシミュレーション実行 | ✓ | ✗ | ✓ |
| ワールド保存 | ✓ | サーバーが保存 | ✓ |
| 最大プレイヤー数 | 1 | 最大32 | 最大32 |
| ポート転送が必要 | ✗ | ✗ | ✓ |

### シングルプレイヤーモード

**機能:**
- ワールドの完全な制御
- Pythonプログラマブルエージェントへのアクセス(F4キー)
- 草の広がりと水のシミュレーションがローカルで実行
- 終了時に自動保存

**制限:**
- マルチプレイヤーインタラクションなし
- 自分のワールドは自分だけが見られる

**使用するタイミング:**
- ゲームの学習
- 一人での建築
- エージェントのプログラミング
- メカニクスのテスト

### クライアントモード

**機能:**
- 互換性のある任意のサーバーに接続
- リアルタイムで他のプレイヤーとプレイ
- サーバーからの地形と建物を見る
- あなたのアクションはすべてのプレイヤーに見える

**制限:**
- Pythonエージェントエディタなし
- サーバー接続に依存
- サーバーが地形に権限を持つ

**使用するタイミング:**
- 友達のサーバーに参加
- マルチプレイヤーセッションへの参加
- 協力プロジェクト

### ホストモード

**機能:**
- 独自のサーバーを実行
- ホストしながらプレイ(あなたもプレイヤー)
- ワールドの完全な制御
- 草の広がりと水のシミュレーションがあなたのマシンで実行
- 簡単な接続のためのオプションのUPnP

**制限:**
- ポート転送が必要(またはUPnP)
- 他の人がプレイするためにはコンピュータを実行し続ける必要がある
- より高いシステムリソース使用量

**使用するタイミング:**
- 特定の友達とプレイ
- ゲーム環境の制御
- 永続的なマルチプレイヤーワールド

## ネットワーキング設定(マルチプレイヤー)

### クライアント用(サーバーへの接続)

1. ホストからサーバーIPアドレスを取得
2. ポート番号を取得(通常25000)
3. 「サーバーに接続」画面にこれらの値を入力
4. 「サーバーに接続」をクリック
5. 地形のダウンロードを待つ

**トラブルシューティング:**
- サーバーが実行されていることを確認
- IPとポートが正しいことを確認
- ファイアウォールが接続を許可していることを確認
- ローカルテストには`127.0.0.1`への接続を試す

### ホスト用(サーバーの実行)

1. ポート番号を選択(デフォルト: 25000で問題ありません)
2. インターネット経由でプレイする場合:
   - **オプションA**: UPNPチェックボックスを有効化(自動ポート転送)
   - **オプションB**: ルーター設定で手動でポートを転送
3. 「サーバーをホスト」をクリック
4. プレイヤーにパブリックIPアドレスを共有(インターネットプレイ用)またはローカルIP(LAN用)

**IPの確認:**
- **LANプレイ**: ローカルIPを使用(通常192.168.x.x)
- **インターネットプレイ**: パブリックIPを使用(オンラインで「what is my IP」を検索)

**ポート転送(UPnPを使用しない場合):**
- ルーター設定にアクセス(通常192.168.1.1または192.168.0.1)
- **UDPポート25000**をコンピュータのローカルIPに転送
- 具体的な手順についてはルーターのマニュアルを参照

## ゲーム内での最初のステップ

ゲームワールドに入ったら:

1. **周りを見る**: マウスを動かして任意の方向を見る
2. **前進する**: **W**を押して前進
3. **ジャンプを試す**: **SPACE**を押してジャンプ
4. **ブロックを指す**: 近くのブロックを指すと十字線が表示されます
5. **インベントリを開く**: **E**を押してアイテムを見る
6. **ブロックを配置してみる**: 地面で**右クリック**

おめでとうございます！これで探索と建築の準備が整いました。

## 次のステップ

- **操作を学ぶ**: すべてのキーボードとマウス操作については[操作リファレンス](./02_controls.md)を参照
- **ゲームプレイを理解する**: ブロックとメカニクスについて学ぶには[ゲームプレイガイド](./03_gameplay.md)を読む
- **インベントリをマスターする**: アイテム管理については[アイテムとインベントリ](./04_items_inventory.md)を確認
- **マルチプレイヤーを試す**: 高度なネットワーキングについては[マルチプレイヤーガイド](./05_multiplayer.md)を訪問

楽しい建築を！
