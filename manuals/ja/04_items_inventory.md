# アイテムとインベントリ

ScriptVoxel ブロックゲームのインベントリシステム、アイテム、およびその使用方法の完全ガイドです。

## インベントリシステム概要

### インベントリ構造

あなたのインベントリには2つのセクションに分かれた**合計36スロット**があります:

**ホットバー(9スロット)**:
- インベントリの下段
- スロット番号0-8(プレイヤーには1-9として表示)
- ゲームプレイ中は画面の下部に表示
- 数字キー1-9でクイックアクセス
- 現在選択されたスロットにはフレーム/ボーダーが表示されます

**バッグ(27スロット)**:
- 9列 × 3行のグリッド
- メインストレージエリア
- インベントリウィンドウが開いているときのみ表示
- ホットバーとの間でドラッグアンドドロップ

**総容量**: 36スロット(27バッグ + 9ホットバー)

### インベントリの開閉

**Eキー** - インベントリウィンドウを切り替え

**開いているとき**:
- 完全なインベントリグリッドが表示
- 上部にバッグ(27スロット)
- 下部にホットバー(9スロット)
- 任意のスロット間でアイテムをドラッグ可能
- マウスカーソルが表示されて自由

**閉じているとき**:
- 画面下部にホットバーのみ表示
- ゲームプレイが通常通り継続
- 数字キーまたはマウスホイールでホットバーアイテムを切り替え可能

**閉じる方法**:
- **E**を再度押す
- **ESC**を押す
- 閉じるボタンをクリック(利用可能な場合)

## アイテムタイプ

ゲームには2つの基本的なアイテムタイプがあります:

### TYPE_BLOCK (0) - 配置可能なブロック

**説明**: ワールドに配置できるボクセルブロック

**動作**:
- **右クリック**: ワールドにブロックを配置
- **左クリック**: ワールドからブロックを削除
- **中クリック**: ワールドからブロックをピック

**例**:
- 土、草、石、砂
- 丸太、板材、ガラス
- 階段、レール
- すべての建築材料

**使用法**: 構造物を作成するための主要な建築材料

### TYPE_ITEM (1) - 特殊アイテム

**説明**: カスタム動作を持つ使用可能なアイテム

**動作**:
- **左クリック**: アイテムの特殊機能を起動
- ブロックのように配置できません
- 各アイテムには独自の機能があります

**現在利用可能**:
- **ロケットランチャー**(ID: 0) - 現在実装されている唯一の特殊アイテム

**使用法**: ツール、武器、または特殊機能アイテム

## 初期インベントリ

新しいゲームを開始すると、インベントリには必須のブロックが事前に入っています:

### デフォルトホットバー内容

| スロット | アイテム | 説明 |
|---------|---------|------|
| 1 (インデックス 0) | 土 | 基本的な茶色の建築ブロック |
| 2 (インデックス 1) | 草 | 緑の表面ブロック |
| 3 (インデックス 2) | 石 | 灰色の固体ブロック |
| 4 (インデックス 3) | 砂 | 黄褐色の砂漠ブロック |
| 5 (インデックス 4) | 板材 | 木製板材 |
| 6 (インデックス 5) | 丸太 | 木の幹(回転可能) |
| 7 (インデックス 6) | 葉 | 木の葉(透明) |
| 8 (インデックス 7) | オーク板材 | 木材バリアント |
| 9 (インデックス 8) | **ロケットランチャー** | 特殊武器アイテム |

### デフォルトバッグ内容

| スロット | アイテム |
|---------|---------|
| バッグスロット 0 | 石炭ブロック |
| 残り26スロット | 空 |

**注意**: これは標準の初期インベントリです。基本的な建築材料と実験用の1つの特殊アイテムが含まれています。

## インベントリの管理

### ドラッグアンドドロップシステム

**アイテムのピックアップ**:
1. アイテムのあるスロットをクリック
2. アイテムが「ピックアップ」されます(カーソルに追従)
3. スロットが一時的に空になります

**アイテムの配置**:
1. アイテムを持っている間、スロットをクリック
2. アイテムがそのスロットに配置されます
3. 前のアイテム(ある場合)がピックアップされます

**アイテムの交換**:
1. アイテムAをクリック
2. アイテムBをクリック
3. アイテムAがBの場所に移動
4. アイテムBが現在保持されます(他の場所に配置可能)

**キャンセル**:
- アイテムを保持している間に**ESC**を押す
- アイテムが元のスロットに戻ります
- 気が変わった場合に便利

### ホットバー管理

**クイック選択(数字キー)**:
- **1-9**を押してそのホットバースロットを即座に選択
- アイテムを切り替える最速の方法
- インベントリウィンドウが閉じていても機能

**サイクリング(マウスホイール)**:
- **上にスクロール**: 前のホットバースロット
- **下にスクロール**: 次のホットバースロット
- ラップアラウンド(9 → 1 → 2 ... → 9)
- アイテムを閲覧するのに適しています

**再編成**:
- **E**でインベントリを開く
- ホットバースロット間でアイテムをドラッグ
- 好みの順序にアイテムを配置
- 完了したらインベントリを閉じる

### バッグ管理

**アイテムの保管**:
- 長期保管のためにホットバーからバッグにアイテムをドラッグ
- 頻繁に使用するアイテム用にホットバーを空ける
- 27スロット利用可能

**アイテムの取り出し**:
- クイックアクセスのためにバッグからホットバーにアイテムをドラッグ
- アイテムを移動する遅延やペナルティなし
- いつでも再配置可能

## アイテムの使用

### ブロックの使用

ブロックは建築と地形改造に使用されます:

**ブロックの配置**:
1. ホットバーでブロックを選択(数字キーまたはマウスホイール)
2. ワールド内のブロックを指す(10ブロック範囲内)
3. **右マウスボタン**を押す
4. 指している面にブロックが配置されます

**ブロックの削除**:
1. ワールド内の任意のブロックを指す
2. **左マウスボタン**を押す
3. ブロックが即座に破壊されます
4. アイテムはドロップしません(ブロックはインベントリに入りません)

**ブロックのピック**:
1. ワールド内の任意のブロックを指す
2. **中マウスボタン**(マウスホイールクリック)を押す
3. そのブロックタイプがホットバーにある場合、自動選択されます
4. 見ているブロックに素早く切り替える方法

**ブロック動作の注意**:
- ブロックはインベントリから「使い果たす」ことはありません(無限供給)
- 耐久度や摩耗なし
- クラフト不要
- 即座の配置/削除

### 特殊アイテムの使用

特殊アイテムには独自の機能があります:

**一般的な使用法**:
1. ホットバーでアイテムを選択
2. **左マウスボタン**を押して起動
3. アイテムのカスタム機能がトリガーされます
4. 効果はアイテムタイプに依存

**現在、特殊アイテムは1つのみ存在: ロケットランチャー**

## ロケットランチャー - 特殊アイテムガイド

### 概要

ロケットランチャーは爆発性の発射物を発射する武器/ツールです。

**アイテムID**: 0(最初の特殊アイテム)
**タイプ**: TYPE_ITEM
**デフォルト位置**: ホットバースロット9(インデックス8)

### 使用方法

**ステップバイステップ**:
1. **9**を押してホットバースロット9(ロケットランチャー)を選択
2. マウスを動かしてターゲットに照準を合わせる
3. **左マウスボタン**を押して発射
4. カメラ位置からロケットが発射されます
5. ロケットが見ている方向に前進します

### ロケットの動作

**発射**:
- ロケットがカメラ位置(あなたの目線レベル)にスポーン
- 見ている方向に進行
- 物理対応の発射物(重力の影響を受ける)
- トレイル/エフェクト付きの可視ロケットオブジェクト

**衝突時**:
- ロケットがブロックや地形に当たると爆発
- **爆発により地形破壊**(ボクセルが破壊される)
- 爆風半径が複数のブロックを除去
- 地形にクレーター/穴を作成

**マルチプレイヤー**:
- ロケットランチャーは**ネットワーク同期**
- 他のプレイヤーはあなたのロケット発射を見られる
- 爆発エフェクトはすべてのプレイヤーに表示
- 地形ダメージはすべてのクライアントに同期

### ロケットランチャーのヒント

**戦闘使用**:
- 地形にダメージを与える可能性(建物の近くでは慎重に使用)
- 大きなエリアを素早くクリアするのに適している
- 採掘/発掘に便利

**建築使用**:
- 建設現場の素早い地形除去
- 洞窟やトンネルを作成
- 造園のために地形を成形

**安全**:
- 自分の建物に発射しないでください
- マルチプレイヤーでは、他のプレイヤーと調整してください
- 爆発は永続的です(自動保存されます)

**実験的使用**:
- ボクセル物理をテスト
- 興味深い地形機能を作成
- 不要な構造物の解体ツール

## アイテムシステムの注意事項

### クラフトシステムなし

**現在の状態**:
- クラフトレシピなし
- リソース収集要件なし
- アイテム組み合わせメカニクスなし

**影響**:
- すべてのアイテムが最初から利用可能
- 進行システムなし
- 純粋なクリエイティブ/サンドボックスモード

### アイテムドロップなし

**ブロックが破壊されたとき**:
- ブロックはアイテムとしてドロップしません
- インベントリに何も入りません
- 破壊されたブロックは単に消えます

**理由**:
- クリエイティブモードデザイン
- 簡素化されたメカニクス
- リソース管理ではなく建築に焦点

### 無限供給

**すべてのアイテム**:
- ブロックが尽きることはありません
- 無制限にブロックを配置可能
- リソース制限なし

**例外**:
- ロケットランチャーのような特殊アイテムも弾薬制限なし
- 無限使用

### 耐久度なし

**アイテムは決して壊れない**:
- ツールの摩耗や劣化なし
- アイテムは永遠に持続
- 交換や修理の必要なし

## インベントリのヒントとコツ

### 整理戦略

**方法1: 材料タイプ別**
- スロット1-3: 土ブロック(土、草、石)
- スロット4-6: 木ブロック(丸太、板材)
- スロット7-8: 特殊ブロック(ガラス、階段)
- スロット9: ツール/アイテム(ロケットランチャー)

**方法2: 頻度別**
- 最も使用するブロックをスロット1-5に
- あまり使用しないものをスロット6-8に
- まれに使用するものをスロット9に

**方法3: 色分け**
- 似た色のブロックをまとめる
- 簡単な視覚的識別
- 自然、木、石のカテゴリ

**自分に合うものを選ぶ**: 実験して好みのレイアウトを見つけましょう。

### ホットバーの効率

**クイック切り替え**:
- レイアウトを記憶する(筋肉記憶)
- スクロールの代わりに数字キーを使用
- 頻繁に使用するブロックをアクセスしやすいスロット(1-5)に

**中クリックのトリック**:
- ワールド内のブロックを指す
- 中クリックで即座にそのブロックタイプに切り替え
- インベントリを開いたりスクロールするより速い

**インベントリ時間を最小化**:
- 大きなプロジェクトを開始する前にホットバーを整理
- 建築前にすべての必要なブロックをホットバーに配置
- インベントリメニューで費やす時間を削減

### 建築プロジェクトのセットアップ

**建築を開始する前**:
1. インベントリを開く(E)
2. すべての必要なブロックをホットバーにドラッグ
3. 論理的な順序でブロックを配置(例: 基礎 → 壁 → 屋根)
4. インベントリを閉じる
5. 建築開始

**建築中**:
- 素早い切り替えに数字キーを使用
- 見ているブロックを取得するために中クリック
- 絶対に必要な場合のみインベントリを開く

## 高度なインベントリテクニック

### ホットバープリセット(手動)

特定のタスク用にホットバーを整理して「プリセット」を作成:

**建築プリセット**:
- スロット1-6: 建築材料
- スロット7-8: 装飾ブロック
- スロット9: 空またはツール

**造園プリセット**:
- スロット1-3: 土、草、石
- スロット4-6: 砂、水、植物
- スロット7-9: 空またはツール

**クリエイティブプリセット**:
- 興味深いブロックの組み合わせ
- 実験的な材料
- ツールと特殊アイテム

アクティビティを切り替えるときに手動でホットバーを再配置します。

### 効率的なブロック選択

**繰り返し建築の場合**:
1. 一度ブロックを選択(数字キー)
2. セクション全体を切り替えずに建築
3. ブロックタイプを変更するときのみ切り替え
4. キー押下を最小化

**変化に富んだ建築の場合**:
1. 既存の構造からブロックを取得するために中クリックを使用
2. 自分の建物からパターンをコピー
3. どのホットバースロットにどのブロックがあるか覚えるより速い

## 将来のアイテムの可能性

**まだ実装されていません**(しかしシステムはサポートしています):
- より多くの特殊アイテム(ツール、武器、ユーティリティ)
- カスタムアイテム動作
- GDScriptによるアイテムスクリプティング
- ブロックとアイテムを超えた追加のアイテムタイプ

アイテムデータベース(`item_db.gd`)は、将来の追加のために拡張可能に設計されています。

---

**次**: ネットワークゲームプレイについて[マルチプレイヤー機能](./05_multiplayer.md)を学びます。
